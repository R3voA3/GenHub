<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:GenHub.Features.Tools.ViewModels.Dialogs"
             mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="500"
             x:Class="GenHub.Features.Tools.Views.Dialogs.PublisherSetupWizardView"
             x:DataType="vm:PublisherSetupWizardViewModel">


    <UserControl.Styles>
        <Style Selector="TextBox">
            <Setter Property="Background" Value="#15FFFFFF"/>
            <Setter Property="BorderBrush" Value="#25FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="SelectionBrush" Value="#D56AFF"/>
            <Setter Property="SelectionForegroundBrush" Value="White"/>
            <Setter Property="CaretBrush" Value="White"/>
        </Style>
        <Style Selector="TextBox:focus">
            <Setter Property="Background" Value="#18FFFFFF"/>
            <Setter Property="BorderBrush" Value="#AA00FF"/>
        </Style>

        <Style Selector="TextBlock.label">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#D0D0E0"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
        <Style Selector="TextBlock.hint">
            <Setter Property="Foreground" Value="#888888"/>
            <Setter Property="FontSize" Value="11"/>
        </Style>
        <Style Selector="Button.nav-btn">
            <Setter Property="Background" Value="#15FFFFFF"/>
            <Setter Property="BorderBrush" Value="#25FFFFFF"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="24,8"/>
        </Style>
        <Style Selector="Button.nav-btn:pointerover">
             <Setter Property="Background" Value="#25FFFFFF"/>
             <Setter Property="BorderBrush" Value="#40FFFFFF"/>
        </Style>
    </UserControl.Styles>

    <Grid RowDefinitions="Auto,*,Auto" Margin="24">
        <!-- Header -->
        <!-- Header -->
        <Grid Grid.Row="0" ColumnDefinitions="*,Auto" Margin="0,0,0,24">
            <StackPanel Spacing="4">
                <TextBlock Text="Initial Setup" FontSize="24" FontWeight="Bold" Foreground="White" />
                <TextBlock Text="{Binding StepTitle}" FontSize="14" Foreground="#AAAAAA"/>
            </StackPanel>
            <Button Grid.Column="1"
                    Command="{Binding CancelCommand}"
                    Background="Transparent"
                    Padding="8"
                    CornerRadius="8"
                    BorderThickness="0"
                    VerticalAlignment="Top">
                <PathIcon Data="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"
                          Width="12" Height="12"
                          Foreground="#888888"/>
                <Button.Styles>
                    <Style Selector="Button:pointerover /template/ ContentPresenter">
                        <Setter Property="Background" Value="#15FFFFFF"/>
                    </Style>
                    <Style Selector="Button:pointerover PathIcon">
                        <Setter Property="Foreground" Value="White"/>
                    </Style>
                </Button.Styles>
            </Button>
        </Grid>

        <!-- Content -->
        <ContentControl Grid.Row="1" Margin="0,0,0,24">
            <Grid>
                <!-- Step 0: Identity -->
                <StackPanel Spacing="20" IsVisible="{Binding IsStep0}">
                    <TextBlock Text="Welcome to Publisher Studio! Let's set up your publisher identity." TextWrapping="Wrap" Foreground="#DDDDDD"/>

                    <StackPanel Spacing="8">
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <TextBlock Text="Publisher ID" Classes="label"/>
                            <TextBlock Text="*" Foreground="#FF5555"/>
                        </StackPanel>
                        <TextBox Text="{Binding PublisherId}" Watermark="e.g. my-awesome-updates"/>
                        <TextBlock Text="Lowercase, alphanumeric, no spaces." Classes="hint"/>
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <StackPanel Orientation="Horizontal" Spacing="4">
                            <TextBlock Text="Display Name" Classes="label"/>
                            <TextBlock Text="*" Foreground="#FF5555"/>
                        </StackPanel>
                        <TextBox Text="{Binding PublisherName}" Watermark="e.g. AOD Maps Team"/>
                    </StackPanel>
                </StackPanel>

                <!-- Step 1: Contact -->
                <StackPanel Spacing="20" IsVisible="{Binding IsStep1}">
                    <TextBlock Text="Provide contact information for your users (Optional)." TextWrapping="Wrap" Foreground="#DDDDDD"/>

                    <StackPanel Spacing="8">
                        <TextBlock Text="Website" Classes="label"/>
                        <TextBox Text="{Binding WebsiteUrl}" Watermark="https://example.com"/>
                    </StackPanel>

                    <StackPanel Spacing="8">
                        <TextBlock Text="Contact Email" Classes="label"/>
                        <TextBox Text="{Binding ContactEmail}" Watermark="contact@example.com"/>
                    </StackPanel>
                </StackPanel>

                <!-- Step 2: Complete -->
                <StackPanel Spacing="16" IsVisible="{Binding IsStep2}">
                    <StackPanel Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="16" Margin="0,40,0,0">
                         <!-- Assumed PathIcon Resource exists, keeping it for now -->
                         <PathIcon Data="{StaticResource CheckmarkCircleIcon}" Width="64" Height="64" Foreground="#00FF00"/>
                         <TextBlock Text="All Set!" FontSize="20" FontWeight="Bold" Foreground="White"/>
                         <TextBlock Text="Your publisher profile is ready. You can now start adding content to your catalog." TextAlignment="Center" TextWrapping="Wrap" MaxWidth="400" Foreground="#CCCCCC"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </ContentControl>

        <!-- Footer / Navigation -->
        <Grid Grid.Row="2" ColumnDefinitions="Auto,*,Auto">
            <Button Command="{Binding PreviousStepCommand}"
                    Content="Back"
                    Classes="nav-btn"
                    IsVisible="{Binding !IsStep0}"/>

            <Button Grid.Column="2"
                    Command="{Binding NextStepCommand}"
                    Content="Next"
                    Background="{DynamicResource PrimaryGradientBrush}"
                    Foreground="White"
                    CornerRadius="8"
                    Padding="40,14"
                    FontWeight="Bold"
                    BorderThickness="0"
                    IsVisible="{Binding !IsStep2}">
                <Button.Styles>
                    <Style Selector="Button:pointerover /template/ ContentPresenter">
                        <Setter Property="Background" Value="{DynamicResource PrimaryGradientBrush}"/>
                        <Setter Property="Opacity" Value="0.85"/>
                    </Style>
                </Button.Styles>
            </Button>

            <Button Grid.Column="2"
                    Command="{Binding FinishCommand}"
                    Content="Finish"
                    Background="{DynamicResource PrimaryGradientBrush}"
                    Foreground="White"
                    CornerRadius="8"
                    Padding="40,14"
                    FontWeight="Bold"
                    BorderThickness="0"
                    IsVisible="{Binding IsStep2}">
                <Button.Styles>
                    <Style Selector="Button:pointerover /template/ ContentPresenter">
                        <Setter Property="Background" Value="{DynamicResource PrimaryGradientBrush}"/>
                        <Setter Property="Opacity" Value="0.85"/>
                    </Style>
                </Button.Styles>
            </Button>
        </Grid>
    </Grid>
</UserControl>
